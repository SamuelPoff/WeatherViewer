<canvas class="canvas" #canvas id="canvas" style="height: 100%; width: 100%;" ></canvas>

<h1>WeatherViewer Dashboard</h1>

<div class="container">
    <input id="location-input" ngx-google-places-autocomplete #location [options]="options" (onAddressChange)="addressChange($event)" />
    <div id="unit-options">
        <input type="radio" checked name="units" value="c" (change)="OnTemperatureUnitChange('c')"/>C
        <input type="radio" name="units" value="f" (change)="OnTemperatureUnitChange('f')"/>F
    </div>
</div>

<!-- Reminder that WeatherApi defines the data type 'Forecast' to represent both weather history and literal weather forecasts (kinda confusing on the surface) -->
<div class="weather">

    <!--
    <div>
        <p>Cloud Pool Count: {{weatherScene.cloudObjectPool.GetInstancePool().length}}</p>

        <button type="button" (click)="changeWeather('Sunny')">[TEST] Sunny</button>
        <button type="button" (click)="changeWeather('Partly cloudy')">[TEST] Partly Cloudy</button>
        <button type="button" (click)="changeWeather('Overcast')">[TEST] Overcast</button>
        <button type="button" (click)="clearWeatherScene()">[TEST] Clear Scene</button>
    </div>
    -->
    <div>
        Rain Count: {{weatherScene.rainObjectPool.GetInstancePool().length}}
        Snow Count: {{weatherScene.snowObjectPool.GetInstancePool().length}}
        <button (click)="toggleRain()">Toggle Rain</button>
    </div>

    <div class="weather-grid">
        <app-current-weather-view *ngIf="currentWeatherData" (mouseenter)="onMouseOver($event)" [weatherData]="currentWeatherData" [unit]="unit" attr.data-condition="{{currentWeatherData.condition.text}}"></app-current-weather-view>
        <app-weather-data-details *ngFor="let historyData of weatherHistoryData" (mouseenter)="onMouseOver($event)" [forecastData]="historyData" [unit]="unit" attr.data-condition="{{historyData.day.condition.text}}"></app-weather-data-details>
        <app-weather-data-details *ngFor="let forecastData of weatherForecastData" (mouseenter)="onMouseOver($event)" [forecastData]="forecastData" [unit]="unit" attr.data-condition="{{forecastData.day.condition.text}}"></app-weather-data-details>
    </div>

</div>
